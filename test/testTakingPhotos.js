var expect = require('expect.js');
var DB = require('../database.js');

suite('Take Photos',function(){
    var db = new DB("test.db");
    db.createDB("test.db");
    var filename="D:\\graduate2\\fse\\S16-SV4-SSNoC-master\\S16-SV4-SSNoC-master\\images\\1459821465336.txt";
    var username="admin";
    var time="2016";
    
    test('Save photos to the database', function(done){
     

      function callback(result) {
        expect(result).to.equal("Messages Saved");
        done();
      }
      db.saveMessages(filename, time, username, callback);
    });

    test('Read photos from database', function(done){
      // var imagedata="data:image/png;base64,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";
      function callback(result) {
        expect(result[1]["message"]).to.equal(filename);
        done();
      }
      db.getMessages(callback);
    });
});


 